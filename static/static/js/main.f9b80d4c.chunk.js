(this["webpackJsonpspotify-auto"]=this["webpackJsonpspotify-auto"]||[]).push([[0],{12:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var r=n(3),a=n.n(r),c=n(5),s=n.n(c),o=n(0),i=n.n(o),u=n(1),p=(n(12),n(6)),f=n.n(p),h=n(2);var l=function(){var t=function(){var t=Object(u.a)(i.a.mark((function t(e){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/ref?ref=".concat(e),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"}});case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.next=8,r;case 8:return a=t.sent,t.abrupt("return",a.access_token);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e=function(){var t=Object(u.a)(i.a.mark((function t(r,a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.spotify.com/v1/me/player/queue?uri=".concat(a),{method:"POST",headers:{Authorization:"Bearer "+r,Accept:"application/json","Content-Type":"application/json"}});case 2:if(204===t.sent.status){t.next=8;break}return t.next=6,n(500);case 6:return t.next=8,e(r,a);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),n=function(){var t=Object(u.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=Object(u.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.spotify.com/v1/me/player/devices",{method:"GET",headers:{Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"}});case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.prev=6,t.next=9,r.devices[0].id;case 9:return t.abrupt("return",t.sent);case 12:t.prev=12,t.t0=t.catch(6),window.location.reload();case 15:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(u.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.spotify.com/v1/me/playlists?limit=1",{method:"GET",headers:{Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"}});case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r.items[0].id);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(u.a)(i.a.mark((function t(e,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.spotify.com/v1/me/player",{method:"PUT",headers:{Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({device_ids:[n],play:!1})});case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),o=function(){var t=Object(u.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.spotify.com/v1/me/player",{method:"GET",headers:{Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"}});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(u.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.spotify.com/v1/me/player/play",{method:"PUT",headers:{Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(u.a)(i.a.mark((function t(e,n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.spotify.com/v1/playlists/".concat(n,"/tracks?offset=0&limit=1&market=TR"),{method:"GET",headers:{Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"}});case 2:return r=t.sent,t.next=5,r.json();case 5:return a=t.sent,t.abrupt("return",a.items[0].track.uri);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),x=function(){var t=Object(u.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.spotify.com/v1/me/player/next",{method:"POST",headers:{Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var r=Object(u.a)(i.a.mark((function r(){var u,h,d,m,v,y;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i="sptifycontrolrefreshtoken124452543",u=f.a.load(i),r.next=3,t(u);case 3:return h=r.sent,r.next=6,c(h);case 6:return d=r.sent,r.next=9,l(h,d);case 9:return m=r.sent,r.next=12,a(h);case 12:return v=r.sent,r.next=15,s(h,v);case 15:return r.next=17,n(500);case 17:return r.next=19,e(h,m);case 19:return r.next=21,n(500);case 21:return r.next=23,e(h,m);case 23:return r.next=25,n(500);case 25:return r.next=27,p(h);case 27:return r.next=29,x(h);case 29:return r.next=32,n(2e3);case 32:return r.next=34,o(h);case 34:if(y=r.sent,!(Number(y.progress_ms)>30500)){r.next=40;break}return r.next=38,e(h,m);case 38:return r.next=40,x(h);case 40:r.next=29;break;case 42:case"end":return r.stop()}var i}),r)})));return function(){return r.apply(this,arguments)}}();return Object(r.useEffect)((function(){function t(){return(t=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()})),Object(h.jsx)("div",{className:"App",children:Object(h.jsx)("header",{className:"App-header",children:Object(h.jsx)("p",{children:"Spotify Playback SDK"})})})},x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(l,{})}),document.getElementById("root")),x()}},[[16,1,2]]]);
//# sourceMappingURL=main.f9b80d4c.chunk.js.map